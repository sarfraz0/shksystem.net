{% extends 'base.html' %}
{% block title %}Login{% endblock %}
{% block content %}

<nav class="top-bar" data-topbar role="navigation">
  <ul class="title-area">
    <li class="name">
      <h1><a href="{{ url_for('index') }}">{{ config['APP_NAME'] }}</a></h1>
    </li>
     <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
    <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
  </ul>

  <section class="top-bar-section">
    <!-- Right Nav Section -->
    <ul class="right">
      <li>
	    <a href="#" data-reveal-id="logmein">Log in
	    </a>
	  </li>
    </ul>

    <!-- Left Nav Section -->
    <ul class="left">
    </ul>
  </section>
</nav>


{% with messages = get_flashed_messages(with_categories=true) %}
{% if messages %}
{% for category, message in messages %}
{% if category == "info" %}
<div style="margin-top:1px; margin-bottom:1px; padding-top:1px; padding-bottom:1px;" class="alert-box info rounded">{{ message }}<a href="#" class="close">&times;</a></div>
{% endif %}
{% if category == "success" %}
<div style="margin-top:1px; margin-bottom:1px; padding-top:1px; padding-bottom:1px;" class="alert-box success rounded">{{ message }}<a href="#" class="close">&times;</a></div>
{% endif %}
{% if category == "error" %}
<div style="margin-top:1px; margin-bottom:1px; padding-top:1px; padding-bottom:1px;" class="alert-box error rounded">{{ message }}<a href="#" class="close">&times;</a></div>
{% endif %}
{% endfor %}
{% endif %}
{% endwith %}


<div id="logmein" class="reveal-modal tiny" data-reveal aria-labelledby="modalTitle" aria-hidden="true" role="dialog">
  <h5 id="modalTitle">Log In:</h5>
 <form id="top-nav-login" action="{{ url_for('login') }}" method="post">
    {{ login_form.hidden_tag() }}
    <div class="row">
        <div class="large-12 columns">
            {{ login_form.pseudo.label }}
            {{ login_form.pseudo(autofocus=true, required=true) }}
        </div>
    </div>
    <div class="row">
        <div class="large-12 columns">
            {{ login_form.password.label }}
            {{ login_form.password(autofocus=true, required=true) }}
        </div>
    </div>
    <div class="row">
        <div class="large-4 large-centered columns">
            <input type="submit" value="Log in" class="button round tiny">
        </div>
    </div>
  </form>
  <a class="close-reveal-modal" aria-label="Close">&#215;</a>
</div>

{% endblock %}
